(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3342],{83004:function(e,n,s){Promise.resolve().then(s.bind(s,43690))},43690:function(e,n,s){"use strict";s.d(n,{Shared:function(){return S}});var t=s(65416),l=s(11214),i=s(95816),a=s(70283),r=s(3318),c=s(88523),d=s.n(c),o=s(64610),h=s(57019),p=s(96940),u=s(91665),x=s(66023),m=s.n(x),j=s(52664),f=s(27346),g=s(81682),v=s(89490),N=s(80413),b=s(77049),C=s(61454),k=s(75692),y=s(86048);function S(e){let{prompts:n}=e,s=(0,a.useRouter)(),[c,x]=l.useState(!1),[S,w]=l.useState(!1),[M,T]=l.useState([...n]),D=l.useMemo(()=>(0,o.b)(),[]),[E,_]=l.useState(!1);l.useEffect(()=>{_(!0)},[]);let P=[{name:"".concat(n.length," ").concat(n.length>1?"prompts":"prompt"," shared with you"),isTemplate:!0,isShared:!0,prompts:n,slug:"/shared",icon:h.KWp}],z=l.useCallback(()=>{(0,u.O6)(M)},[M]),I=l.useCallback(()=>{(0,u.F1)(M),x(!0)},[M]),O=l.useCallback(async()=>{let e=(0,u.bf)(M),n=encodeURIComponent(e),s=await fetch("https://ray.so/api/shorten-url?url=".concat(n,"&ref=prompts")).then(e=>e.json());s.link&&(e=s.link),d()(e),x(!0)},[M]),J=l.useCallback(()=>(0,u.e_)(s,M),[s,M]),K=l.useCallback(e=>{d()(e.prompt),x(!0)},[]);if(l.useEffect(()=>{let e=e=>{let{key:s,keyCode:t,metaKey:l,altKey:i}=e;if("k"===s&&l){if(0===M.length)return;w(e=>!e)}if("d"===s&&l){if(0===M.length)return;e.preventDefault(),z()}if("Enter"===s&&l){if(0===M.length)return;e.preventDefault(),J()}if(67===t&&l&&i){if(0===M.length)return;e.preventDefault(),I(),w(!1)}"a"===s&&l&&(e.preventDefault(),T([...n]))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,w,M,I,z,J]),l.useEffect(()=>{c&&setTimeout(()=>{x(!1)},2e3)},[c]),0!==n.length)return(0,t.jsxs)("div",{children:[(0,t.jsxs)(C.NavigationActions,{children:[(0,t.jsx)("div",{className:"flex gap-2 sm:hidden",children:(0,t.jsxs)(v.z,{variant:"primary",disabled:0===M.length,onClick:()=>O(),children:[(0,t.jsx)(h.xPt,{})," Copy URL to Share"]})}),(0,t.jsxs)("div",{className:"sm:flex gap-2 hidden",children:[(0,t.jsx)(k.c,{}),(0,t.jsxs)(g.h,{children:[(0,t.jsxs)(v.z,{variant:"primary",disabled:0===M.length,onClick:()=>J(),children:[(0,t.jsx)(h.wl8,{})," Add to Raycast"]}),(0,t.jsxs)(N.DropdownMenu,{open:S,onOpenChange:w,children:[(0,t.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(v.z,{variant:"primary",disabled:0===M.length,"aria-label":"Export options",children:(0,t.jsx)(h.v4q,{})})}),(0,t.jsxs)(N.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(N.DropdownMenuItem,{disabled:0===M.length,onSelect:()=>z(),children:[(0,t.jsx)(h._8t,{})," Download JSON",(0,t.jsxs)(y.iN,{children:[(0,t.jsx)(y.Tz,{children:"⌘"}),(0,t.jsx)(y.Tz,{children:"D"})]})]}),(0,t.jsxs)(N.DropdownMenuItem,{disabled:0===M.length,onSelect:()=>I(),children:[(0,t.jsx)(h.gIV,{})," Copy JSON"," ",(0,t.jsxs)(y.iN,{children:[(0,t.jsx)(y.Tz,{children:"⌘"}),(0,t.jsx)(y.Tz,{children:"⌥"}),(0,t.jsx)(y.Tz,{children:"C"})]})]})]})]})]})]})]}),(0,t.jsx)(b.F,{open:c,onOpenChange:x,children:(0,t.jsxs)(b.M,{className:m().toastTitle,children:[(0,t.jsx)(h.gIV,{})," Copied to clipboard"]})}),(0,t.jsx)("div",{className:m().container,children:null!==D&&(0,t.jsx)(r.ZP,{className:"container pt-8",onStart:e=>{let{event:n,selection:s}=e;(null==n?void 0:n.ctrlKey)||(null==n?void 0:n.metaKey)||(s.clearSelection(),T([]))},onMove:e=>{let{store:{changed:{added:n,removed:s}}}=e,t=(0,p.M)(n,P),l=(0,p.M)(s,P);T(e=>{let n=[...e];return t.forEach(e=>{!e||n.find(n=>n.id===e.id)||n.push(e)}),l.forEach(e=>n.filter(n=>(null==n?void 0:n.id)!==(null==e?void 0:e.id))),n})},selectables:".selectable",features:{touch:!D,range:!0,singleTap:{allow:!0,intersect:"native"}},children:P.map(e=>(0,t.jsxs)("div",{"data-section-slug":e.slug,style:{outline:"none"},children:[(0,t.jsxs)("h2",{className:m().subtitle,children:[(0,t.jsx)(e.icon,{})," ",e.name]}),(0,t.jsx)("div",{className:m().prompts,children:e.prompts.map((n,s)=>{let l=n.icon in h.PJP?h.PJP[n.icon]:h.KWp,a=M.some(e=>e.id===n.id);return(0,t.jsxs)(i.fC,{children:[(0,t.jsx)(i.xz,{children:(0,t.jsxs)("div",{className:"".concat(m().item," selectable"),"data-selected":a,"data-key":"".concat(e.slug,"-").concat(s),children:[(0,t.jsx)("div",{className:m().promptTemplate,children:(0,t.jsx)(j.x,{children:(0,t.jsx)("pre",{className:m().template,dangerouslySetInnerHTML:{__html:n.prompt.replace(/\{[^}]+\}/g,'<span class="'.concat(m().placeholder,'">$&</span>'))}})})}),(0,t.jsxs)("div",{className:m().prompt,children:[(0,t.jsxs)("span",{className:m().name,children:[(0,t.jsx)(l,{}),n.title]}),(0,t.jsx)(f.Z,{creativity:n.creativity})]})]},n.id)}),(0,t.jsx)(i.Uv,{children:(0,t.jsxs)(i.VY,{className:m().contextMenuContent,children:[(0,t.jsxs)(i.ck,{className:m().contextMenuItem,onSelect:()=>{if(a)return T(e=>e.filter(e=>e.id!==n.id));T(e=>[...e,n])},children:[a?(0,t.jsx)(h.$_5,{}):(0,t.jsx)(h.wl8,{}),a?"Deselect Prompt":"Select Prompt"]}),(0,t.jsxs)(i.ck,{className:m().contextMenuItem,onSelect:()=>K(n),children:[(0,t.jsx)(h.gIV,{})," Copy Prompt Text"," "]})]})})]},n.id)})})]},e.name))})})]})}}},function(e){e.O(0,[4665,362,9799,410,8147,4943,9845,7434,8227,8391,2121,6280,3318,1454,5503,1441,707,1744],function(){return e(e.s=83004)}),_N_E=e.O()}]);