exports.id=6345,exports.ids=[6345],exports.modules={7297:t=>{"use strict";function e(t,e,r){t instanceof RegExp&&(t=i(t,r)),e instanceof RegExp&&(e=i(e,r));var h=s(t,e,r);return h&&{start:h[0],end:h[1],pre:r.slice(0,h[0]),body:r.slice(h[0]+t.length,h[1]),post:r.slice(h[1]+e.length)}}function i(t,e){var i=e.match(t);return i?i[0]:null}function s(t,e,i){var s,r,h,n,a,o=i.indexOf(t),l=i.indexOf(e,o+1),c=o;if(o>=0&&l>0){if(t===e)return[o,l];for(s=[],h=i.length;c>=0&&!a;)c==o?(s.push(c),o=i.indexOf(t,c+1)):1==s.length?a=[s.pop(),l]:((r=s.pop())<h&&(h=r,n=l),l=i.indexOf(e,c+1)),c=o<l&&o>=0?o:l;s.length&&(a=[h,n])}return a}t.exports=e,e.range=s},36619:(t,e,i)=>{var s=i(7297);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),(function t(e,i){var r=[],h=s("{","}",e);if(!h)return[e];var a=h.pre,o=h.post.length?t(h.post,!1):[""];if(/\$$/.test(h.pre))for(var c=0;c<o.length;c++){var g=a+"{"+h.body+"}"+o[c];r.push(g)}else{var m=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(h.body),y=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(h.body),w=m||y,b=h.body.indexOf(",")>=0;if(!w&&!b)return h.post.match(/,.*\}/)?t(e=h.pre+"{"+h.body+n+h.post):[e];if(w)v=h.body.split(/\.\./);else if(1===(v=function t(e){if(!e)return[""];var i=[],r=s("{","}",e);if(!r)return e.split(",");var h=r.pre,n=r.body,a=r.post,o=h.split(",");o[o.length-1]+="{"+n+"}";var l=t(a);return a.length&&(o[o.length-1]+=l.shift(),o.push.apply(o,l)),i.push.apply(i,o),i}(h.body)).length&&1===(v=t(v[0],!1).map(p)).length)return o.map(function(t){return h.pre+v[0]+t});if(w){var v,S,k,x=l(v[0]),E=l(v[1]),L=Math.max(v[0].length,v[1].length),C=3==v.length?Math.abs(l(v[2])):1,T=u;E<x&&(C*=-1,T=f);var A=v.some(d);S=[];for(var M=x;T(M,E);M+=C){if(y)"\\"===(k=String.fromCharCode(M))&&(k="");else if(k=String(M),A){var F=L-k.length;if(F>0){var R=Array(F+1).join("0");k=M<0?"-"+R+k.slice(1):R+k}}S.push(k)}}else{S=[];for(var z=0;z<v.length;z++)S.push.apply(S,t(v[z],!1))}for(var z=0;z<S.length;z++)for(var c=0;c<o.length;c++){var g=a+S[z]+o[c];(!i||w||g)&&r.push(g)}}return r})(t.split("\\\\").join(r).split("\\{").join(h).split("\\}").join(n).split("\\,").join(a).split("\\.").join(o),!0).map(c)):[]};var r="\0SLASH"+Math.random()+"\0",h="\0OPEN"+Math.random()+"\0",n="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",o="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function c(t){return t.split(r).join("\\").split(h).join("{").split(n).join("}").split(a).join(",").split(o).join(".")}function p(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function u(t,e){return t<=e}function f(t,e){return t>=e}},6345:(t,e,i)=>{"use strict";i.d(e,{zA:()=>eV});var s=i(36619);let r=t=>{if("string"!=typeof t)throw TypeError("invalid pattern");if(t.length>65536)throw TypeError("pattern is too long")},h={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},n=t=>t.replace(/[[\]\\-]/g,"\\$&"),a=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),o=t=>t.join(""),l=(t,e)=>{if("["!==t.charAt(e))throw Error("not in a brace expression");let i=[],s=[],r=e+1,l=!1,c=!1,p=!1,d=!1,u=e,f="";t:for(;r<t.length;){let a=t.charAt(r);if(("!"===a||"^"===a)&&r===e+1){d=!0,r++;continue}if("]"===a&&l&&!p){u=r+1;break}if(l=!0,"\\"===a&&!p){p=!0,r++;continue}if("["===a&&!p){for(let[n,[a,o,l]]of Object.entries(h))if(t.startsWith(n,r)){if(f)return["$.",!1,t.length-e,!0];r+=n.length,l?s.push(a):i.push(a),c=c||o;continue t}}if(p=!1,f){a>f?i.push(n(f)+"-"+n(a)):a===f&&i.push(n(a)),f="",r++;continue}if(t.startsWith("-]",r+1)){i.push(n(a+"-")),r+=2;continue}if(t.startsWith("-",r+1)){f=a,r+=2;continue}i.push(n(a)),r++}if(u<r)return["",!1,0,!1];if(!i.length&&!s.length)return["$.",!1,t.length-e,!0];if(0===s.length&&1===i.length&&/^\\?.$/.test(i[0])&&!d)return[a(2===i[0].length?i[0].slice(-1):i[0]),!1,u-e,!1];let g="["+(d?"^":"")+o(i)+"]",m="["+(d?"":"^")+o(s)+"]";return[i.length&&s.length?"("+g+"|"+m+")":i.length?g:m,c,u-e,!0]},c=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),p=new Set(["!","?","+","*","@"]),d=t=>p.has(t),u="(?!\\.)",f=new Set(["[","."]),g=new Set(["..","."]),m=new Set("().*{}+?[]^$\\!"),y=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),w="[^/]",b=w+"*?",v=w+"+?";class S{type;#t;#e;#i=!1;#s=[];#r;#h;#n;#a=!1;#o;#l;#c=!1;constructor(t,e,i={}){this.type=t,t&&(this.#e=!0),this.#r=e,this.#t=this.#r?this.#r.#t:this,this.#o=this.#t===this?i:this.#t.#o,this.#n=this.#t===this?[]:this.#t.#n,"!"!==t||this.#t.#a||this.#n.push(this),this.#h=this.#r?this.#r.#s.length:0}get hasMagic(){if(void 0!==this.#e)return this.#e;for(let t of this.#s)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return void 0!==this.#l?this.#l:this.type?this.#l=this.type+"("+this.#s.map(t=>String(t)).join("|")+")":this.#l=this.#s.map(t=>String(t)).join("")}#p(){let t;if(this!==this.#t)throw Error("should only call on root");if(this.#a)return this;for(this.toString(),this.#a=!0;t=this.#n.pop();){if("!"!==t.type)continue;let e=t,i=e.#r;for(;i;){for(let s=e.#h+1;!i.type&&s<i.#s.length;s++)for(let e of t.#s){if("string"==typeof e)throw Error("string part in extglob AST??");e.copyIn(i.#s[s])}i=(e=i).#r}}return this}push(...t){for(let e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof S&&e.#r===this))throw Error("invalid part: "+e);this.#s.push(e)}}toJSON(){let t=null===this.type?this.#s.slice().map(t=>"string"==typeof t?t:t.toJSON()):[this.type,...this.#s.map(t=>t.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(0===this.#h)return!0;let t=this.#r;for(let e=0;e<this.#h;e++){let i=t.#s[e];if(!(i instanceof S&&"!"===i.type))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#s.length:0;return this.#h===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){let e=new S(this.type,t);for(let t of this.#s)e.copyIn(t);return e}static #d(t,e,i,s){let r=!1,h=!1,n=-1,a=!1;if(null===e.type){let o=i,l="";for(;o<t.length;){let i=t.charAt(o++);if(r||"\\"===i){r=!r,l+=i;continue}if(h){o===n+1?("^"===i||"!"===i)&&(a=!0):"]"!==i||o===n+2&&a||(h=!1),l+=i;continue}if("["===i){h=!0,n=o,a=!1,l+=i;continue}if(!s.noext&&d(i)&&"("===t.charAt(o)){e.push(l),l="";let r=new S(i,e);o=S.#d(t,r,o,s),e.push(r);continue}l+=i}return e.push(l),o}let o=i+1,l=new S(null,e),c=[],p="";for(;o<t.length;){let i=t.charAt(o++);if(r||"\\"===i){r=!r,p+=i;continue}if(h){o===n+1?("^"===i||"!"===i)&&(a=!0):"]"!==i||o===n+2&&a||(h=!1),p+=i;continue}if("["===i){h=!0,n=o,a=!1,p+=i;continue}if(d(i)&&"("===t.charAt(o)){l.push(p),p="";let e=new S(i,l);l.push(e),o=S.#d(t,e,o,s);continue}if("|"===i){l.push(p),p="",c.push(l),l=new S(null,e);continue}if(")"===i)return""===p&&0===e.#s.length&&(e.#c=!0),l.push(p),p="",e.push(...c,l),o;p+=i}return e.type=null,e.#e=void 0,e.#s=[t.substring(i-1)],o}static fromGlob(t,e={}){let i=new S(null,void 0,e);return S.#d(t,i,0,e),i}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let t=this.toString(),[e,i,s,r]=this.toRegExpSource();return s||this.#e||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()?Object.assign(RegExp(`^${e}$`,(this.#o.nocase?"i":"")+(r?"u":"")),{_src:e,_glob:t}):i}get options(){return this.#o}toRegExpSource(t){let e=t??!!this.#o.dot;if(this.#t===this&&this.#p(),!this.type){let i=this.isStart()&&this.isEnd(),s=this.#s.map(e=>{let[s,r,h,n]="string"==typeof e?S.#u(e,this.#e,i):e.toRegExpSource(t);return this.#e=this.#e||h,this.#i=this.#i||n,s}).join(""),r="";if(this.isStart()&&"string"==typeof this.#s[0]&&!(1===this.#s.length&&g.has(this.#s[0]))){let i=e&&f.has(s.charAt(0))||s.startsWith("\\.")&&f.has(s.charAt(2))||s.startsWith("\\.\\.")&&f.has(s.charAt(4)),h=!e&&!t&&f.has(s.charAt(0));r=i?"(?!(?:^|/)\\.\\.?(?:$|/))":h?u:""}let h="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(h="(?:$|\\/)"),[r+s+h,c(s),this.#e=!!this.#e,this.#i]}let i="*"===this.type||"+"===this.type,s="!"===this.type?"(?:(?!(?:":"(?:",r=this.#f(e);if(this.isStart()&&this.isEnd()&&!r&&"!"!==this.type){let t=this.toString();return this.#s=[t],this.type=null,this.#e=void 0,[t,c(this.toString()),!1,!1]}let h=!i||t||e||!u?"":this.#f(!0);return h===r&&(h=""),h&&(r=`(?:${r})(?:${h})*?`),["!"===this.type&&this.#c?(this.isStart()&&!e?u:"")+v:s+r+("!"===this.type?"))"+(!this.isStart()||e||t?"":u)+b+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&h?")":"*"===this.type&&h?")?":`)${this.type}`),c(r),this.#e=!!this.#e,this.#i]}#f(t){return this.#s.map(e=>{if("string"==typeof e)throw Error("string type in extglob ast??");let[i,s,r,h]=e.toRegExpSource(t);return this.#i=this.#i||h,i}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static #u(t,e,i=!1){let s=!1,r="",h=!1;for(let n=0;n<t.length;n++){let a=t.charAt(n);if(s){s=!1,r+=(m.has(a)?"\\":"")+a;continue}if("\\"===a){n===t.length-1?r+="\\\\":s=!0;continue}if("["===a){let[i,s,a,o]=l(t,n);if(a){r+=i,h=h||s,n+=a-1,e=e||o;continue}}if("*"===a){i&&"*"===t?r+=v:r+=b,e=!0;continue}if("?"===a){r+=w,e=!0;continue}r+=y(a)}return[r,c(t),!!e,h]}}let k=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),x=(t,e,i={})=>(r(e),(!!i.nocomment||"#"!==e.charAt(0))&&new X(e,i).match(t)),E=/^\*+([^+@!?\*\[\(]*)$/,L=t=>e=>!e.startsWith(".")&&e.endsWith(t),C=t=>e=>e.endsWith(t),T=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),A=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),M=/^\*+\.\*+$/,F=t=>!t.startsWith(".")&&t.includes("."),R=t=>"."!==t&&".."!==t&&t.includes("."),z=/^\.\*+$/,O=t=>"."!==t&&".."!==t&&t.startsWith("."),P=/^\*+$/,D=t=>0!==t.length&&!t.startsWith("."),N=t=>0!==t.length&&"."!==t&&".."!==t,_=/^\?+([^+@!?\*\[\(]*)?$/,W=([t,e=""])=>{let i=$([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},B=([t,e=""])=>{let i=U([t]);return e?(e=e.toLowerCase(),t=>i(t)&&t.toLowerCase().endsWith(e)):i},j=([t,e=""])=>{let i=U([t]);return e?t=>i(t)&&t.endsWith(e):i},I=([t,e=""])=>{let i=$([t]);return e?t=>i(t)&&t.endsWith(e):i},$=([t])=>{let e=t.length;return t=>t.length===e&&!t.startsWith(".")},U=([t])=>{let e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},G="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",H={win32:{sep:"\\"},posix:{sep:"/"}},q="win32"===G?H.win32.sep:H.posix.sep;x.sep=q;let V=Symbol("globstar **");x.GLOBSTAR=V,x.filter=(t,e={})=>i=>x(i,t,e);let Z=(t,e={})=>Object.assign({},t,e);x.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return x;let e=x;return Object.assign((i,s,r={})=>e(i,s,Z(t,r)),{Minimatch:class extends e.Minimatch{constructor(e,i={}){super(e,Z(t,i))}static defaults(i){return e.defaults(Z(t,i)).Minimatch}},AST:class extends e.AST{constructor(e,i,s={}){super(e,i,Z(t,s))}static fromGlob(i,s={}){return e.AST.fromGlob(i,Z(t,s))}},unescape:(i,s={})=>e.unescape(i,Z(t,s)),escape:(i,s={})=>e.escape(i,Z(t,s)),filter:(i,s={})=>e.filter(i,Z(t,s)),defaults:i=>e.defaults(Z(t,i)),makeRe:(i,s={})=>e.makeRe(i,Z(t,s)),braceExpand:(i,s={})=>e.braceExpand(i,Z(t,s)),match:(i,s,r={})=>e.match(i,s,Z(t,r)),sep:e.sep,GLOBSTAR:V})};let J=(t,e={})=>(r(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t))?[t]:s(t);x.braceExpand=J,x.makeRe=(t,e={})=>new X(t,e).makeRe(),x.match=(t,e,i={})=>{let s=new X(e,i);return t=t.filter(t=>s.match(t)),s.options.nonull&&!t.length&&t.push(e),t};let K=/[?*]|[+@!]\(.*?\)|\[|\]/,Y=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class X{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){r(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||G,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0)){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(t=>this.slashSplit(t));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let s=this.globParts.map((t,e,i)=>{if(this.isWindows&&this.windowsNoMagicRoot){let e=""===t[0]&&""===t[1]&&("?"===t[2]||!K.test(t[2]))&&!K.test(t[3]),i=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map(t=>this.parse(t))];if(i)return[t[0],...t.slice(1).map(t=>this.parse(t))]}return t.map(t=>this.parse(t))});if(this.debug(this.pattern,s),this.set=s.filter(t=>-1===t.indexOf(!1)),this.isWindows)for(let t=0;t<this.set.length;t++){let e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)"**"===t[e][i]&&(t[e][i]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let i=e;for(;"**"===t[i+1];)i++;i!==e&&t.splice(e,i-e)}return t})}levelOneOptimize(t){return t.map(t=>0===(t=t.reduce((t,e)=>{let i=t[t.length-1];return"**"===e&&"**"===i||(".."===e&&i&&".."!==i&&"."!==i&&"**"!==i?t.pop():t.push(e)),t},[])).length?[""]:t)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];(1!==i||""!==s||""!==t[0])&&("."===s||""===s)&&(e=!0,t.splice(i,1),i--)}"."===t[0]&&2===t.length&&("."===t[1]||""===t[1])&&(e=!0,t.pop())}let i=0;for(;-1!==(i=t.indexOf("..",i+1));){let s=t[i-1];s&&"."!==s&&".."!==s&&"**"!==s&&(e=!0,t.splice(i-1,2),i-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do for(let i of(e=!1,t)){let s=-1;for(;-1!==(s=i.indexOf("**",s+1));){let r=s;for(;"**"===i[r+1];)r++;r>s&&i.splice(s+1,r-s);let h=i[s+1],n=i[s+2],a=i[s+3];if(".."!==h||!n||"."===n||".."===n||!a||"."===a||".."===a)continue;e=!0,i.splice(s,1);let o=i.slice(0);o[s]="**",t.push(o),s--}if(!this.preserveMultipleSlashes){for(let t=1;t<i.length-1;t++){let s=i[t];(1!==t||""!==s||""!==i[0])&&("."===s||""===s)&&(e=!0,i.splice(t,1),t--)}"."===i[0]&&2===i.length&&("."===i[1]||""===i[1])&&(e=!0,i.pop())}let r=0;for(;-1!==(r=i.indexOf("..",r+1));){let t=i[r-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;let t=1===r&&"**"===i[r+1]?["."]:[];i.splice(r-1,2,...t),0===i.length&&i.push(""),r-=2}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;i++){let s=this.partsMatch(t[e],t[i],!this.preserveMultipleSlashes);if(s){t[e]=[],t[i]=s;break}}return t.filter(t=>t.length)}partsMatch(t,e,i=!1){let s=0,r=0,h=[],n="";for(;s<t.length&&r<e.length;)if(t[s]===e[r])h.push("b"===n?e[r]:t[s]),s++,r++;else if(i&&"**"===t[s]&&e[r]===t[s+1])h.push(t[s]),s++;else if(i&&"**"===e[r]&&t[s]===e[r+1])h.push(e[r]),r++;else if("*"===t[s]&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&"**"!==e[r]){if("b"===n)return!1;n="a",h.push(t[s]),s++,r++}else{if("*"!==e[r]||!t[s]||!this.options.dot&&t[s].startsWith(".")||"**"===t[s]||"a"===n)return!1;n="b",h.push(e[r]),s++,r++}return t.length===e.length&&h}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,i=0;for(let s=0;s<t.length&&"!"===t.charAt(s);s++)e=!e,i++;i&&(this.pattern=t.slice(i)),this.negate=e}matchOne(t,e,i=!1){let s=this.options;if(this.isWindows){let i="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),s=!i&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),r="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),h=!r&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3]),n=s?3:i?0:void 0,a=h?3:r?0:void 0;if("number"==typeof n&&"number"==typeof a){let[i,s]=[t[n],e[a]];i.toLowerCase()===s.toLowerCase()&&(e[a]=i,a>n?e=e.slice(a):n>a&&(t=t.slice(n)))}}let{optimizationLevel:r=1}=this.options;r>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var h=0,n=0,a=t.length,o=e.length;h<a&&n<o;h++,n++){let r;this.debug("matchOne loop");var l=e[n],c=t[h];if(this.debug(e,l,c),!1===l)return!1;if(l===V){this.debug("GLOBSTAR",[e,l,c]);var p=h,d=n+1;if(d===o){for(this.debug("** at the end");h<a;h++)if("."===t[h]||".."===t[h]||!s.dot&&"."===t[h].charAt(0))return!1;return!0}for(;p<a;){var u=t[p];if(this.debug("\nglobstar while",t,p,e,d,u),this.matchOne(t.slice(p),e.slice(d),i))return this.debug("globstar found match!",p,a,u),!0;if("."===u||".."===u||!s.dot&&"."===u.charAt(0)){this.debug("dot detected!",t,p,e,d);break}this.debug("globstar swallow a segment, and continue"),p++}if(i&&(this.debug("\n>>> no match, partial?",t,p,e,d),p===a))return!0;return!1}if("string"==typeof l?(r=c===l,this.debug("string match",l,c,r)):(r=l.test(c),this.debug("pattern match",l,c,r)),!r)return!1}if(h===a&&n===o)return!0;if(h===a)return i;if(n===o)return h===a-1&&""===t[h];throw Error("wtf?")}braceExpand(){return J(this.pattern,this.options)}parse(t){let e;r(t);let i=this.options;if("**"===t)return V;if(""===t)return"";let s=null;(e=t.match(P))?s=i.dot?N:D:(e=t.match(E))?s=(i.nocase?i.dot?A:T:i.dot?C:L)(e[1]):(e=t.match(_))?s=(i.nocase?i.dot?B:W:i.dot?j:I)(e):(e=t.match(M))?s=i.dot?R:F:(e=t.match(z))&&(s=O);let h=S.fromGlob(t,this.options).toMMPattern();return s&&"object"==typeof h&&Reflect.defineProperty(h,"test",{value:s}),h}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,i=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(e.nocase?["i"]:[]),r=t.map(t=>{let e=t.map(t=>{if(t instanceof RegExp)for(let e of t.flags.split(""))s.add(e);return"string"==typeof t?Y(t):t===V?V:t._src});return e.forEach((t,s)=>{let r=e[s+1],h=e[s-1];t===V&&h!==V&&(void 0===h?void 0!==r&&r!==V?e[s+1]="(?:\\/|"+i+"\\/)?"+r:e[s]=i:void 0===r?e[s-1]=h+"(?:\\/|"+i+")?":r!==V&&(e[s-1]=h+"(?:\\/|\\/"+i+"\\/)"+r,e[s+1]=V))}),e.filter(t=>t!==V).join("/")}).join("|"),[h,n]=t.length>1?["(?:",")"]:["",""];r="^"+h+r+n+"$",this.negate&&(r="^(?!"+r+").+$");try{this.regexp=new RegExp(r,[...s].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;let i=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let r=this.set;this.debug(this.pattern,"set",r);let h=s[s.length-1];if(!h)for(let t=s.length-2;!h&&t>=0;t--)h=s[t];for(let t=0;t<r.length;t++){let n=r[t],a=s;if(i.matchBase&&1===n.length&&(a=[h]),this.matchOne(a,n,e)){if(i.flipNegate)return!0;return!this.negate}}return!i.flipNegate&&this.negate}static defaults(t){return x.defaults(t).Minimatch}}x.AST=S,x.Minimatch=X,x.escape=k,x.unescape=c;var Q=i(41041);let tt="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,te=new Set,ti="object"==typeof process&&process?process:{},ts=(t,e,i,s)=>{"function"==typeof ti.emitWarning?ti.emitWarning(t,e,i,s):console.error(`[${i}] ${e}: ${t}`)},tr=globalThis.AbortController,th=globalThis.AbortSignal;if(void 0===tr){th=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},tr=class{constructor(){e()}signal=new th;abort(t){if(!this.signal.aborted){for(let e of(this.signal.reason=t,this.signal.aborted=!0,this.signal._onabort))e(t);this.signal.onabort?.(t)}}};let t=ti.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,ts("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}let tn=t=>!te.has(t);Symbol("type");let ta=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),to=t=>ta(t)?t<=256?Uint8Array:t<=65536?Uint16Array:t<=4294967296?Uint32Array:t<=Number.MAX_SAFE_INTEGER?tl:null:null;class tl extends Array{constructor(t){super(t),this.fill(0)}}class tc{heap;length;static #g=!1;static create(t){let e=to(t);if(!e)return[];tc.#g=!0;let i=new tc(t,e);return tc.#g=!1,i}constructor(t,e){if(!tc.#g)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class tp{#m;#y;#w;#b;#v;#S;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#k;#x;#E;#L;#C;#T;#A;#M;#F;#R;#z;#O;#P;#D;#N;#_;#W;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#D,sizes:t.#O,keyMap:t.#E,keyList:t.#L,valList:t.#C,next:t.#T,prev:t.#A,get head(){return t.#M},get tail(){return t.#F},free:t.#R,isBackgroundFetch:e=>t.#B(e),backgroundFetch:(e,i,s,r)=>t.#j(e,i,s,r),moveToTail:e=>t.#I(e),indexes:e=>t.#$(e),rindexes:e=>t.#U(e),isStale:e=>t.#G(e)}}get max(){return this.#m}get maxSize(){return this.#y}get calculatedSize(){return this.#x}get size(){return this.#k}get fetchMethod(){return this.#v}get memoMethod(){return this.#S}get dispose(){return this.#w}get disposeAfter(){return this.#b}constructor(t){let{max:e=0,ttl:i,ttlResolution:s=1,ttlAutopurge:r,updateAgeOnGet:h,updateAgeOnHas:n,allowStale:a,dispose:o,disposeAfter:l,noDisposeOnSet:c,noUpdateTTL:p,maxSize:d=0,maxEntrySize:u=0,sizeCalculation:f,fetchMethod:g,memoMethod:m,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:w,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:v,ignoreFetchAbort:S}=t;if(0!==e&&!ta(e))throw TypeError("max option must be a nonnegative integer");let k=e?to(e):Array;if(!k)throw Error("invalid max value: "+e);if(this.#m=e,this.#y=d,this.maxEntrySize=u||this.#y,this.sizeCalculation=f,this.sizeCalculation){if(!this.#y&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==m&&"function"!=typeof m)throw TypeError("memoMethod must be a function if defined");if(this.#S=m,void 0!==g&&"function"!=typeof g)throw TypeError("fetchMethod must be a function if specified");if(this.#v=g,this.#_=!!g,this.#E=new Map,this.#L=Array(e).fill(void 0),this.#C=Array(e).fill(void 0),this.#T=new k(e),this.#A=new k(e),this.#M=0,this.#F=0,this.#R=tc.create(e),this.#k=0,this.#x=0,"function"==typeof o&&(this.#w=o),"function"==typeof l?(this.#b=l,this.#z=[]):(this.#b=void 0,this.#z=void 0),this.#N=!!this.#w,this.#W=!!this.#b,this.noDisposeOnSet=!!c,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!b,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!S,0!==this.maxEntrySize){if(0!==this.#y&&!ta(this.#y))throw TypeError("maxSize must be a positive integer if specified");if(!ta(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#H()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!w,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!n,this.ttlResolution=ta(s)||0===s?s:1,this.ttlAutopurge=!!r,this.ttl=i||0,this.ttl){if(!ta(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#q()}if(0===this.#m&&0===this.ttl&&0===this.#y)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#m&&!this.#y){let t="LRU_CACHE_UNBOUNDED";tn(t)&&(te.add(t),ts("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,tp))}}getRemainingTTL(t){return this.#E.has(t)?1/0:0}#q(){let t=new tl(this.#m),e=new tl(this.#m);this.#D=t,this.#P=e,this.#V=(i,s,r=tt.now())=>{if(e[i]=0!==s?r:0,t[i]=s,0!==s&&this.ttlAutopurge){let t=setTimeout(()=>{this.#G(i)&&this.#Z(this.#L[i],"expire")},s+1);t.unref&&t.unref()}},this.#J=i=>{e[i]=0!==t[i]?tt.now():0},this.#K=(r,h)=>{if(t[h]){let n=t[h],a=e[h];if(!n||!a)return;r.ttl=n,r.start=a,r.now=i||s();let o=r.now-a;r.remainingTTL=n-o}};let i=0,s=()=>{let t=tt.now();if(this.ttlResolution>0){i=t;let e=setTimeout(()=>i=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=r=>{let h=this.#E.get(r);if(void 0===h)return 0;let n=t[h],a=e[h];return n&&a?n-((i||s())-a):1/0},this.#G=r=>{let h=e[r],n=t[r];return!!n&&!!h&&(i||s())-h>n}}#J=()=>{};#K=()=>{};#V=()=>{};#G=()=>!1;#H(){let t=new tl(this.#m);this.#x=0,this.#O=t,this.#Y=e=>{this.#x-=t[e],t[e]=0},this.#X=(t,e,i,s)=>{if(this.#B(e))return 0;if(!ta(i)){if(s){if("function"!=typeof s)throw TypeError("sizeCalculation must be a function");if(!ta(i=s(e,t)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.")}return i},this.#Q=(e,i,s)=>{if(t[e]=i,this.#y){let i=this.#y-t[e];for(;this.#x>i;)this.#tt(!0)}this.#x+=t[e],s&&(s.entrySize=i,s.totalCalculatedSize=this.#x)}}#Y=t=>{};#Q=(t,e,i)=>{};#X=(t,e,i,s)=>{if(i||s)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#$({allowStale:t=this.allowStale}={}){if(this.#k)for(let e=this.#F;this.#te(e)&&((t||!this.#G(e))&&(yield e),e!==this.#M);)e=this.#A[e]}*#U({allowStale:t=this.allowStale}={}){if(this.#k)for(let e=this.#M;this.#te(e)&&((t||!this.#G(e))&&(yield e),e!==this.#F);)e=this.#T[e]}#te(t){return void 0!==t&&this.#E.get(this.#L[t])===t}*entries(){for(let t of this.#$())void 0===this.#C[t]||void 0===this.#L[t]||this.#B(this.#C[t])||(yield[this.#L[t],this.#C[t]])}*rentries(){for(let t of this.#U())void 0===this.#C[t]||void 0===this.#L[t]||this.#B(this.#C[t])||(yield[this.#L[t],this.#C[t]])}*keys(){for(let t of this.#$()){let e=this.#L[t];void 0===e||this.#B(this.#C[t])||(yield e)}}*rkeys(){for(let t of this.#U()){let e=this.#L[t];void 0===e||this.#B(this.#C[t])||(yield e)}}*values(){for(let t of this.#$())void 0===this.#C[t]||this.#B(this.#C[t])||(yield this.#C[t])}*rvalues(){for(let t of this.#U())void 0===this.#C[t]||this.#B(this.#C[t])||(yield this.#C[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(let i of this.#$()){let s=this.#C[i],r=this.#B(s)?s.__staleWhileFetching:s;if(void 0!==r&&t(r,this.#L[i],this))return this.get(this.#L[i],e)}}forEach(t,e=this){for(let i of this.#$()){let s=this.#C[i],r=this.#B(s)?s.__staleWhileFetching:s;void 0!==r&&t.call(e,r,this.#L[i],this)}}rforEach(t,e=this){for(let i of this.#U()){let s=this.#C[i],r=this.#B(s)?s.__staleWhileFetching:s;void 0!==r&&t.call(e,r,this.#L[i],this)}}purgeStale(){let t=!1;for(let e of this.#U({allowStale:!0}))this.#G(e)&&(this.#Z(this.#L[e],"expire"),t=!0);return t}info(t){let e=this.#E.get(t);if(void 0===e)return;let i=this.#C[e],s=this.#B(i)?i.__staleWhileFetching:i;if(void 0===s)return;let r={value:s};if(this.#D&&this.#P){let t=this.#D[e],i=this.#P[e];if(t&&i){let e=t-(tt.now()-i);r.ttl=e,r.start=Date.now()}}return this.#O&&(r.size=this.#O[e]),r}dump(){let t=[];for(let e of this.#$({allowStale:!0})){let i=this.#L[e],s=this.#C[e],r=this.#B(s)?s.__staleWhileFetching:s;if(void 0===r||void 0===i)continue;let h={value:r};if(this.#D&&this.#P){h.ttl=this.#D[e];let t=tt.now()-this.#P[e];h.start=Math.floor(Date.now()-t)}this.#O&&(h.size=this.#O[e]),t.unshift([i,h])}return t}load(t){for(let[e,i]of(this.clear(),t)){if(i.start){let t=Date.now()-i.start;i.start=tt.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){if(void 0===e)return this.delete(t),this;let{ttl:s=this.ttl,start:r,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:n=this.sizeCalculation,status:a}=i,{noUpdateTTL:o=this.noUpdateTTL}=i,l=this.#X(t,e,i.size||0,n);if(this.maxEntrySize&&l>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#Z(t,"set"),this;let c=0===this.#k?void 0:this.#E.get(t);if(void 0===c)c=0===this.#k?this.#F:0!==this.#R.length?this.#R.pop():this.#k===this.#m?this.#tt(!1):this.#k,this.#L[c]=t,this.#C[c]=e,this.#E.set(t,c),this.#T[this.#F]=c,this.#A[c]=this.#F,this.#F=c,this.#k++,this.#Q(c,l,a),a&&(a.set="add"),o=!1;else{this.#I(c);let i=this.#C[c];if(e!==i){if(this.#_&&this.#B(i)){i.__abortController.abort(Error("replaced"));let{__staleWhileFetching:e}=i;void 0!==e&&!h&&(this.#N&&this.#w?.(e,t,"set"),this.#W&&this.#z?.push([e,t,"set"]))}else!h&&(this.#N&&this.#w?.(i,t,"set"),this.#W&&this.#z?.push([i,t,"set"]));if(this.#Y(c),this.#Q(c,l,a),this.#C[c]=e,a){a.set="replace";let t=i&&this.#B(i)?i.__staleWhileFetching:i;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===s||this.#D||this.#q(),this.#D&&(o||this.#V(c,s,r),a&&this.#K(a,c)),!h&&this.#W&&this.#z){let t;let e=this.#z;for(;t=e?.shift();)this.#b?.(...t)}return this}pop(){try{for(;this.#k;){let t=this.#C[this.#M];if(this.#tt(!0),this.#B(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#W&&this.#z){let t;let e=this.#z;for(;t=e?.shift();)this.#b?.(...t)}}}#tt(t){let e=this.#M,i=this.#L[e],s=this.#C[e];return this.#_&&this.#B(s)?s.__abortController.abort(Error("evicted")):(this.#N||this.#W)&&(this.#N&&this.#w?.(s,i,"evict"),this.#W&&this.#z?.push([s,i,"evict"])),this.#Y(e),t&&(this.#L[e]=void 0,this.#C[e]=void 0,this.#R.push(e)),1===this.#k?(this.#M=this.#F=0,this.#R.length=0):this.#M=this.#T[e],this.#E.delete(i),this.#k--,e}has(t,e={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:s}=e,r=this.#E.get(t);if(void 0!==r){let t=this.#C[r];if(this.#B(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#G(r))return i&&this.#J(r),s&&(s.has="hit",this.#K(s,r)),!0;s&&(s.has="stale",this.#K(s,r))}else s&&(s.has="miss");return!1}peek(t,e={}){let{allowStale:i=this.allowStale}=e,s=this.#E.get(t);if(void 0===s||!i&&this.#G(s))return;let r=this.#C[s];return this.#B(r)?r.__staleWhileFetching:r}#j(t,e,i,s){let r=void 0===e?void 0:this.#C[e];if(this.#B(r))return r;let h=new tr,{signal:n}=i;n?.addEventListener("abort",()=>h.abort(n.reason),{signal:h.signal});let a={signal:h.signal,options:i,context:s},o=(s,r=!1)=>{let{aborted:n}=h.signal,o=i.ignoreFetchAbort&&void 0!==s;return(i.status&&(n&&!r?(i.status.fetchAborted=!0,i.status.fetchError=h.signal.reason,o&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!n||o||r)?(this.#C[e]===c&&(void 0===s?c.__staleWhileFetching?this.#C[e]=c.__staleWhileFetching:this.#Z(t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,s,a.options))),s):l(h.signal.reason)},l=s=>{let{aborted:r}=h.signal,n=r&&i.allowStaleOnFetchAbort,a=n||i.allowStaleOnFetchRejection,o=a||i.noDeleteOnFetchRejection;if(this.#C[e]!==c||(o&&void 0!==c.__staleWhileFetching?n||(this.#C[e]=c.__staleWhileFetching):this.#Z(t,"fetch")),a)return i.status&&void 0!==c.__staleWhileFetching&&(i.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw s};i.status&&(i.status.fetchDispatched=!0);let c=new Promise((e,s)=>{let n=this.#v?.(t,r,a);n&&n instanceof Promise&&n.then(t=>e(void 0===t?void 0:t),s),h.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(e(void 0),i.allowStaleOnFetchAbort&&(e=t=>o(t,!0)))})}).then(o,t=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=t),l(t))),p=Object.assign(c,{__abortController:h,__staleWhileFetching:r,__returned:void 0});return void 0===e?(this.set(t,p,{...a.options,status:void 0}),e=this.#E.get(t)):this.#C[e]=p,p}#B(t){return!!this.#_&&!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof tr}async fetch(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:n=this.noDisposeOnSet,size:a=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:u=this.allowStaleOnFetchAbort,context:f,forceRefresh:g=!1,status:m,signal:y}=e;if(!this.#_)return m&&(m.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:r,status:m});let w={allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:r,ttl:h,noDisposeOnSet:n,size:a,sizeCalculation:o,noUpdateTTL:l,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:u,ignoreFetchAbort:d,status:m,signal:y},b=this.#E.get(t);if(void 0===b){m&&(m.fetch="miss");let e=this.#j(t,b,w,f);return e.__returned=e}{let e=this.#C[b];if(this.#B(e)){let t=i&&void 0!==e.__staleWhileFetching;return m&&(m.fetch="inflight",t&&(m.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}let r=this.#G(b);if(!g&&!r)return m&&(m.fetch="hit"),this.#I(b),s&&this.#J(b),m&&this.#K(m,b),e;let h=this.#j(t,b,w,f),n=void 0!==h.__staleWhileFetching&&i;return m&&(m.fetch=r?"stale":"refresh",n&&r&&(m.returnedStale=!0)),n?h.__staleWhileFetching:h.__returned=h}}async forceFetch(t,e={}){let i=await this.fetch(t,e);if(void 0===i)throw Error("fetch() returned undefined");return i}memo(t,e={}){let i=this.#S;if(!i)throw Error("no memoMethod provided to constructor");let{context:s,forceRefresh:r,...h}=e,n=this.get(t,h);if(!r&&void 0!==n)return n;let a=i(t,n,{options:h,context:s});return this.set(t,a,h),a}get(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:h}=e,n=this.#E.get(t);if(void 0!==n){let e=this.#C[n],a=this.#B(e);return(h&&this.#K(h,n),this.#G(n))?(h&&(h.get="stale"),a)?(h&&i&&void 0!==e.__staleWhileFetching&&(h.returnedStale=!0),i?e.__staleWhileFetching:void 0):(r||this.#Z(t,"expire"),h&&i&&(h.returnedStale=!0),i?e:void 0):(h&&(h.get="hit"),a)?e.__staleWhileFetching:(this.#I(n),s&&this.#J(n),e)}h&&(h.get="miss")}#ti(t,e){this.#A[e]=t,this.#T[t]=e}#I(t){t!==this.#F&&(t===this.#M?this.#M=this.#T[t]:this.#ti(this.#A[t],this.#T[t]),this.#ti(this.#F,t),this.#F=t)}delete(t){return this.#Z(t,"delete")}#Z(t,e){let i=!1;if(0!==this.#k){let s=this.#E.get(t);if(void 0!==s){if(i=!0,1===this.#k)this.#ts(e);else{this.#Y(s);let i=this.#C[s];if(this.#B(i)?i.__abortController.abort(Error("deleted")):(this.#N||this.#W)&&(this.#N&&this.#w?.(i,t,e),this.#W&&this.#z?.push([i,t,e])),this.#E.delete(t),this.#L[s]=void 0,this.#C[s]=void 0,s===this.#F)this.#F=this.#A[s];else if(s===this.#M)this.#M=this.#T[s];else{let t=this.#A[s];this.#T[t]=this.#T[s];let e=this.#T[s];this.#A[e]=this.#A[s]}this.#k--,this.#R.push(s)}}}if(this.#W&&this.#z?.length){let t;let e=this.#z;for(;t=e?.shift();)this.#b?.(...t)}return i}clear(){return this.#ts("delete")}#ts(t){for(let e of this.#U({allowStale:!0})){let i=this.#C[e];if(this.#B(i))i.__abortController.abort(Error("deleted"));else{let s=this.#L[e];this.#N&&this.#w?.(i,s,t),this.#W&&this.#z?.push([i,s,t])}}if(this.#E.clear(),this.#C.fill(void 0),this.#L.fill(void 0),this.#D&&this.#P&&(this.#D.fill(0),this.#P.fill(0)),this.#O&&this.#O.fill(0),this.#M=0,this.#F=0,this.#R.length=0,this.#x=0,this.#k=0,this.#W&&this.#z){let t;let e=this.#z;for(;t=e?.shift();)this.#b?.(...t)}}}var td=i(49411),tu=i(57147),tf=i(87561),tg=i.t(tf,2),tm=i(93977),ty=i(15673),tw=i(84492),tb=i(76915);let tv="object"==typeof process&&process?process:{stdout:null,stderr:null},tS=t=>!!t&&"object"==typeof t&&(t instanceof et||t instanceof tw||tk(t)||tx(t)),tk=t=>!!t&&"object"==typeof t&&t instanceof ty.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==tw.Writable.prototype.pipe,tx=t=>!!t&&"object"==typeof t&&t instanceof ty.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end,tE=Symbol("EOF"),tL=Symbol("maybeEmitEnd"),tC=Symbol("emittedEnd"),tT=Symbol("emittingEnd"),tA=Symbol("emittedError"),tM=Symbol("closed"),tF=Symbol("read"),tR=Symbol("flush"),tz=Symbol("flushChunk"),tO=Symbol("encoding"),tP=Symbol("decoder"),tD=Symbol("flowing"),tN=Symbol("paused"),t_=Symbol("resume"),tW=Symbol("buffer"),tB=Symbol("pipes"),tj=Symbol("bufferLength"),tI=Symbol("bufferPush"),t$=Symbol("bufferShift"),tU=Symbol("objectMode"),tG=Symbol("destroyed"),tH=Symbol("error"),tq=Symbol("emitData"),tV=Symbol("emitEnd"),tZ=Symbol("emitEnd2"),tJ=Symbol("async"),tK=Symbol("abort"),tY=Symbol("aborted"),tX=Symbol("signal"),tQ=Symbol("dataListeners"),t0=Symbol("discarded"),t1=t=>Promise.resolve().then(t),t2=t=>t(),t3=t=>"end"===t||"finish"===t||"prefinish"===t,t6=t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0,t4=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);class t5{src;dest;opts;ondrain;constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[t_](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class t8 extends t5{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}let t7=t=>!!t.objectMode,t9=t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding;class et extends ty.EventEmitter{[tD]=!1;[tN]=!1;[tB]=[];[tW]=[];[tU];[tO];[tJ];[tP];[tE]=!1;[tC]=!1;[tT]=!1;[tM]=!1;[tA]=null;[tj]=0;[tG]=!1;[tX];[tY]=!1;[tQ]=0;[t0]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw TypeError("Encoding and objectMode may not be used together");t7(e)?(this[tU]=!0,this[tO]=null):t9(e)?(this[tO]=e.encoding,this[tU]=!1):(this[tU]=!1,this[tO]=null),this[tJ]=!!e.async,this[tP]=this[tO]?new tb.StringDecoder(this[tO]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[tW]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[tB]});let{signal:i}=e;i&&(this[tX]=i,i.aborted?this[tK]():i.addEventListener("abort",()=>this[tK]()))}get bufferLength(){return this[tj]}get encoding(){return this[tO]}set encoding(t){throw Error("Encoding must be set at instantiation time")}setEncoding(t){throw Error("Encoding must be set at instantiation time")}get objectMode(){return this[tU]}set objectMode(t){throw Error("objectMode must be set at instantiation time")}get async(){return this[tJ]}set async(t){this[tJ]=this[tJ]||!!t}[tK](){this[tY]=!0,this.emit("abort",this[tX]?.reason),this.destroy(this[tX]?.reason)}get aborted(){return this[tY]}set aborted(t){}write(t,e,i){if(this[tY])return!1;if(this[tE])throw Error("write after end");if(this[tG])return this.emit("error",Object.assign(Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(i=e,e="utf8"),e||(e="utf8");let s=this[tJ]?t1:t2;if(!this[tU]&&!Buffer.isBuffer(t)){if(t4(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(t6(t))t=Buffer.from(t);else if("string"!=typeof t)throw Error("Non-contiguous data written to non-objectMode stream")}return this[tU]?(this[tD]&&0!==this[tj]&&this[tR](!0),this[tD]?this.emit("data",t):this[tI](t)):t.length&&("string"==typeof t&&(e!==this[tO]||this[tP]?.lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[tO]&&(t=this[tP].write(t)),this[tD]&&0!==this[tj]&&this[tR](!0),this[tD]?this.emit("data",t):this[tI](t)),0!==this[tj]&&this.emit("readable"),i&&s(i),this[tD]}read(t){if(this[tG])return null;if(this[t0]=!1,0===this[tj]||0===t||t&&t>this[tj])return this[tL](),null;this[tU]&&(t=null),this[tW].length>1&&!this[tU]&&(this[tW]=[this[tO]?this[tW].join(""):Buffer.concat(this[tW],this[tj])]);let e=this[tF](t||null,this[tW][0]);return this[tL](),e}[tF](t,e){if(this[tU])this[t$]();else{let i=e;t===i.length||null===t?this[t$]():("string"==typeof i?(this[tW][0]=i.slice(t),e=i.slice(0,t)):(this[tW][0]=i.subarray(t),e=i.subarray(0,t)),this[tj]-=t)}return this.emit("data",e),this[tW].length||this[tE]||this.emit("drain"),e}end(t,e,i){return"function"==typeof t&&(i=t,t=void 0),"function"==typeof e&&(i=e,e="utf8"),void 0!==t&&this.write(t,e),i&&this.once("end",i),this[tE]=!0,this.writable=!1,(this[tD]||!this[tN])&&this[tL](),this}[t_](){this[tG]||(this[tQ]||this[tB].length||(this[t0]=!0),this[tN]=!1,this[tD]=!0,this.emit("resume"),this[tW].length?this[tR]():this[tE]?this[tL]():this.emit("drain"))}resume(){return this[t_]()}pause(){this[tD]=!1,this[tN]=!0,this[t0]=!1}get destroyed(){return this[tG]}get flowing(){return this[tD]}get paused(){return this[tN]}[tI](t){this[tU]?this[tj]+=1:this[tj]+=t.length,this[tW].push(t)}[t$](){return this[tU]?this[tj]-=1:this[tj]-=this[tW][0].length,this[tW].shift()}[tR](t=!1){do;while(this[tz](this[t$]())&&this[tW].length);t||this[tW].length||this[tE]||this.emit("drain")}[tz](t){return this.emit("data",t),this[tD]}pipe(t,e){if(this[tG])return t;this[t0]=!1;let i=this[tC];return e=e||{},t===tv.stdout||t===tv.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this[tB].push(e.proxyErrors?new t8(this,t,e):new t5(this,t,e)),this[tJ]?t1(()=>this[t_]()):this[t_]()),t}unpipe(t){let e=this[tB].find(e=>e.dest===t);e&&(1===this[tB].length?(this[tD]&&0===this[tQ]&&(this[tD]=!1),this[tB]=[]):this[tB].splice(this[tB].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let i=super.on(t,e);return"data"===t?(this[t0]=!1,this[tQ]++,this[tB].length||this[tD]||this[t_]()):"readable"===t&&0!==this[tj]?super.emit("readable"):t3(t)&&this[tC]?(super.emit(t),this.removeAllListeners(t)):"error"===t&&this[tA]&&(this[tJ]?t1(()=>e.call(this,this[tA])):e.call(this,this[tA])),i}removeListener(t,e){return this.off(t,e)}off(t,e){let i=super.off(t,e);return"data"!==t||(this[tQ]=this.listeners("data").length,0!==this[tQ]||this[t0]||this[tB].length||(this[tD]=!1)),i}removeAllListeners(t){let e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[tQ]=0,this[t0]||this[tB].length||(this[tD]=!1)),e}get emittedEnd(){return this[tC]}[tL](){this[tT]||this[tC]||this[tG]||0!==this[tW].length||!this[tE]||(this[tT]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[tM]&&this.emit("close"),this[tT]=!1)}emit(t,...e){let i=e[0];if("error"!==t&&"close"!==t&&t!==tG&&this[tG])return!1;if("data"===t)return(!!this[tU]||!!i)&&(this[tJ]?(t1(()=>this[tq](i)),!0):this[tq](i));if("end"===t)return this[tV]();if("close"===t){if(this[tM]=!0,!this[tC]&&!this[tG])return!1;let t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[tA]=i,super.emit(tH,i);let t=(!this[tX]||!!this.listeners("error").length)&&super.emit("error",i);return this[tL](),t}if("resume"===t){let t=super.emit("resume");return this[tL](),t}if("finish"===t||"prefinish"===t){let e=super.emit(t);return this.removeAllListeners(t),e}let s=super.emit(t,...e);return this[tL](),s}[tq](t){for(let e of this[tB])!1===e.dest.write(t)&&this.pause();let e=!this[t0]&&super.emit("data",t);return this[tL](),e}[tV](){return!this[tC]&&(this[tC]=!0,this.readable=!1,this[tJ]?(t1(()=>this[tZ]()),!0):this[tZ]())}[tZ](){if(this[tP]){let t=this[tP].end();if(t){for(let e of this[tB])e.dest.write(t);this[t0]||super.emit("data",t)}}for(let t of this[tB])t.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[tU]||(t.dataLength=0);let e=this.promise();return this.on("data",e=>{t.push(e),this[tU]||(t.dataLength+=e.length)}),await e,t}async concat(){if(this[tU])throw Error("cannot concat in objectMode");let t=await this.collect();return this[tO]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(tG,()=>e(Error("stream destroyed"))),this.on("error",t=>e(t)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[t0]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{let i,s;if(t)return e();let r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[tE])return e();let h=t=>{this.off("data",n),this.off("end",a),this.off(tG,o),e(),s(t)},n=t=>{this.off("error",h),this.off("end",a),this.off(tG,o),this.pause(),i({value:t,done:!!this[tE]})},a=()=>{this.off("error",h),this.off("data",n),this.off(tG,o),e(),i({done:!0,value:void 0})},o=()=>h(Error("stream destroyed"));return new Promise((t,e)=>{s=e,i=t,this.once(tG,o),this.once("error",h),this.once("end",a),this.once("data",n)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[t0]=!1;let t=!1,e=()=>(this.pause(),this.off(tH,e),this.off(tG,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(tH,e),this.once(tG,e),{next:()=>{if(t)return e();let i=this.read();return null===i?e():{done:!1,value:i}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){return this[tG]||(this[tG]=!0,this[t0]=!0,this[tW].length=0,this[tj]=0,"function"!=typeof this.close||this[tM]||this.close()),t?this.emit("error",t):this.emit(tG),this}static get isStream(){return tS}}let ee=tu.realpathSync.native,ei={lstatSync:tu.lstatSync,readdir:tu.readdir,readdirSync:tu.readdirSync,readlinkSync:tu.readlinkSync,realpathSync:ee,promises:{lstat:tm.lstat,readdir:tm.readdir,readlink:tm.readlink,realpath:tm.realpath}},es=t=>t&&t!==ei&&t!==tg?{...ei,...t,promises:{...ei.promises,...t.promises||{}}}:ei,er=/^\\\\\?\\([a-z]:)\\?$/i,eh=t=>t.replace(/\//g,"\\").replace(er,"$1\\"),en=/[\\\/]/,ea=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?10:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,eo=new Map,el=t=>{let e=eo.get(t);if(e)return e;let i=t.normalize("NFKD");return eo.set(t,i),i},ec=new Map,ep=t=>{let e=ec.get(t);if(e)return e;let i=el(t.toLowerCase());return ec.set(t,i),i};class ed extends tp{constructor(){super({max:256})}}class eu extends tp{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}let ef=Symbol("PathScurry setAsCwd");class eg{name;root;roots;parent;nocase;isCWD=!1;#tr;#th;get dev(){return this.#th}#tn;get mode(){return this.#tn}#ta;get nlink(){return this.#ta}#to;get uid(){return this.#to}#tl;get gid(){return this.#tl}#tc;get rdev(){return this.#tc}#tp;get blksize(){return this.#tp}#td;get ino(){return this.#td}#k;get size(){return this.#k}#tu;get blocks(){return this.#tu}#tf;get atimeMs(){return this.#tf}#tg;get mtimeMs(){return this.#tg}#tm;get ctimeMs(){return this.#tm}#ty;get birthtimeMs(){return this.#ty}#tw;get atime(){return this.#tw}#tb;get mtime(){return this.#tb}#tv;get ctime(){return this.#tv}#tS;get birthtime(){return this.#tS}#tk;#tx;#tE;#tL;#tC;#tT;#tA;#tM;#tF;#tR;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,i,s,r,h,n){this.name=t,this.#tk=r?ep(t):el(t),this.#tA=1023&e,this.nocase=r,this.roots=s,this.root=i||this,this.#tM=h,this.#tE=n.fullpath,this.#tC=n.relative,this.#tT=n.relativePosix,this.parent=n.parent,this.parent?this.#tr=this.parent.#tr:this.#tr=es(n.fs)}depth(){return void 0!==this.#tx?this.#tx:this.parent?this.#tx=this.parent.depth()+1:this.#tx=0}childrenCache(){return this.#tM}resolve(t){if(!t)return this;let e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#tz(i):this.#tz(i)}#tz(t){let e=this;for(let i of t)e=e.child(i);return e}children(){let t=this.#tM.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#tM.set(this,e),this.#tA&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;let i=this.children(),s=this.nocase?ep(t):el(t);for(let t of i)if(t.#tk===s)return t;let r=this.parent?this.sep:"",h=this.#tE?this.#tE+r+t:void 0,n=this.newChild(t,0,{...e,parent:this,fullpath:h});return this.canReaddir()||(n.#tA|=128),i.push(n),n}relative(){if(this.isCWD)return"";if(void 0!==this.#tC)return this.#tC;let t=this.name,e=this.parent;if(!e)return this.#tC=this.name;let i=e.relative();return i+(i&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#tT)return this.#tT;let t=this.name,e=this.parent;if(!e)return this.#tT=this.fullpathPosix();let i=e.relativePosix();return i+(i&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#tE)return this.#tE;let t=this.name,e=this.parent;if(!e)return this.#tE=this.name;let i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#tE=i}fullpathPosix(){if(void 0!==this.#tL)return this.#tL;if("/"===this.sep)return this.#tL=this.fullpath();if(!this.parent){let t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#tL=`//?/${t}`:this.#tL=t}let t=this.parent,e=t.fullpathPosix(),i=e+(e&&t.parent?"/":"")+this.name;return this.#tL=i}isUnknown(){return(15&this.#tA)==0}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(15&this.#tA)==8}isDirectory(){return(15&this.#tA)==4}isCharacterDevice(){return(15&this.#tA)==2}isBlockDevice(){return(15&this.#tA)==6}isFIFO(){return(15&this.#tA)==1}isSocket(){return(15&this.#tA)==12}isSymbolicLink(){return(10&this.#tA)==10}lstatCached(){return 32&this.#tA?this:void 0}readlinkCached(){return this.#tF}realpathCached(){return this.#tR}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#tF)return!0;if(!this.parent)return!1;let t=15&this.#tA;return!(0!==t&&10!==t||256&this.#tA||128&this.#tA)}calledReaddir(){return!!(16&this.#tA)}isENOENT(){return!!(128&this.#tA)}isNamed(t){return this.nocase?this.#tk===ep(t):this.#tk===el(t)}async readlink(){let t=this.#tF;if(t)return t;if(this.canReadlink()&&this.parent)try{let t=await this.#tr.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#tF=e}catch(t){this.#tO(t.code);return}}readlinkSync(){let t=this.#tF;if(t)return t;if(this.canReadlink()&&this.parent)try{let t=this.#tr.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#tF=e}catch(t){this.#tO(t.code);return}}#tP(t){this.#tA|=16;for(let e=t.provisional;e<t.length;e++){let i=t[e];i&&i.#tD()}}#tD(){128&this.#tA||(this.#tA=(128|this.#tA)&-16,this.#tN())}#tN(){let t=this.children();for(let e of(t.provisional=0,t))e.#tD()}#t_(){this.#tA|=512,this.#tW()}#tW(){if(64&this.#tA)return;let t=this.#tA;(15&t)==4&&(t&=-16),this.#tA=64|t,this.#tN()}#tB(t=""){"ENOTDIR"===t||"EPERM"===t?this.#tW():"ENOENT"===t?this.#tD():this.children().provisional=0}#tj(t=""){"ENOTDIR"===t?this.parent.#tW():"ENOENT"===t&&this.#tD()}#tO(t=""){let e=this.#tA;e|=256,"ENOENT"===t&&(e|=128),("EINVAL"===t||"UNKNOWN"===t)&&(e&=-16),this.#tA=e,"ENOTDIR"===t&&this.parent&&this.parent.#tW()}#tI(t,e){return this.#t$(t,e)||this.#tU(t,e)}#tU(t,e){let i=ea(t),s=this.newChild(t.name,i,{parent:this}),r=15&s.#tA;return 4!==r&&10!==r&&0!==r&&(s.#tA|=64),e.unshift(s),e.provisional++,s}#t$(t,e){for(let i=e.provisional;i<e.length;i++){let s=e[i];if((this.nocase?ep(t.name):el(t.name))===s.#tk)return this.#tG(t,s,i,e)}}#tG(t,e,i,s){let r=e.name;return e.#tA=-16&e.#tA|ea(t),r!==t.name&&(e.name=t.name),i!==s.provisional&&(i===s.length-1?s.pop():s.splice(i,1),s.unshift(e)),s.provisional++,e}async lstat(){if((128&this.#tA)==0)try{return this.#tH(await this.#tr.promises.lstat(this.fullpath())),this}catch(t){this.#tj(t.code)}}lstatSync(){if((128&this.#tA)==0)try{return this.#tH(this.#tr.lstatSync(this.fullpath())),this}catch(t){this.#tj(t.code)}}#tH(t){let{atime:e,atimeMs:i,birthtime:s,birthtimeMs:r,blksize:h,blocks:n,ctime:a,ctimeMs:o,dev:l,gid:c,ino:p,mode:d,mtime:u,mtimeMs:f,nlink:g,rdev:m,size:y,uid:w}=t;this.#tw=e,this.#tf=i,this.#tS=s,this.#ty=r,this.#tp=h,this.#tu=n,this.#tv=a,this.#tm=o,this.#th=l,this.#tl=c,this.#td=p,this.#tn=d,this.#tb=u,this.#tg=f,this.#ta=g,this.#tc=m,this.#k=y,this.#to=w;let b=ea(t);this.#tA=-16&this.#tA|b|32,0!==b&&4!==b&&10!==b&&(this.#tA|=64)}#tq=[];#tV=!1;#tZ(t){this.#tV=!1;let e=this.#tq.slice();this.#tq.length=0,e.forEach(e=>e(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let i=this.children();if(this.calledReaddir()){let s=i.slice(0,i.provisional);e?t(null,s):queueMicrotask(()=>t(null,s));return}if(this.#tq.push(t),this.#tV)return;this.#tV=!0;let s=this.fullpath();this.#tr.readdir(s,{withFileTypes:!0},(t,e)=>{if(t)this.#tB(t.code),i.provisional=0;else{for(let t of e)this.#tI(t,i);this.#tP(i)}this.#tZ(i.slice(0,i.provisional))})}#tJ;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#tJ)await this.#tJ;else{let i=()=>{};this.#tJ=new Promise(t=>i=t);try{for(let i of(await this.#tr.promises.readdir(e,{withFileTypes:!0})))this.#tI(i,t);this.#tP(t)}catch(e){this.#tB(e.code),t.provisional=0}this.#tJ=void 0,i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let i of this.#tr.readdirSync(e,{withFileTypes:!0}))this.#tI(i,t);this.#tP(t)}catch(e){this.#tB(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#tA)return!1;let t=15&this.#tA;return 0===t||4===t||10===t}shouldWalk(t,e){return(4&this.#tA)==4&&!(704&this.#tA)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#tR)return this.#tR;if(!(896&this.#tA))try{let t=await this.#tr.promises.realpath(this.fullpath());return this.#tR=this.resolve(t)}catch(t){this.#t_()}}realpathSync(){if(this.#tR)return this.#tR;if(!(896&this.#tA))try{let t=this.#tr.realpathSync(this.fullpath());return this.#tR=this.resolve(t)}catch(t){this.#t_()}}[ef](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;let e=new Set([]),i=[],s=this;for(;s&&s.parent;)e.add(s),s.#tC=i.join(this.sep),s.#tT=i.join("/"),s=s.parent,i.push("..");for(s=t;s&&s.parent&&!e.has(s);)s.#tC=void 0,s.#tT=void 0,s=s.parent}}class em extends eg{sep="\\";splitSep=en;constructor(t,e=0,i,s,r,h,n){super(t,e,i,s,r,h,n)}newChild(t,e=0,i={}){return new em(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(t){return td.win32.parse(t).root}getRoot(t){if((t=eh(t.toUpperCase()))===this.root.name)return this.root;for(let[e,i]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=i;return this.roots[t]=new eb(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(er,"$1\\"))===e}}class ey extends eg{splitSep="/";sep="/";constructor(t,e=0,i,s,r,h,n){super(t,e,i,s,r,h,n)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,i={}){return new ey(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}}class ew{root;rootPath;roots;cwd;#tK;#tY;#tM;nocase;#tr;constructor(t=process.cwd(),e,i,{nocase:s,childrenCacheSize:r=16384,fs:h=ei}={}){this.#tr=es(h),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Q.fileURLToPath)(t));let n=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(n),this.#tK=new ed,this.#tY=new ed,this.#tM=new eu(r);let a=n.substring(this.rootPath.length).split(i);if(1!==a.length||a[0]||a.pop(),void 0===s)throw TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=s,this.root=this.newRoot(this.#tr),this.roots[this.rootPath]=this.root;let o=this.root,l=a.length-1,c=e.sep,p=this.rootPath,d=!1;for(let t of a){let e=l--;o=o.child(t,{relative:Array(e).fill("..").join(c),relativePosix:Array(e).fill("..").join("/"),fullpath:p+=(d?"":c)+t}),d=!0}this.cwd=o}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#tM}resolve(...t){let e="";for(let i=t.length-1;i>=0;i--){let s=t[i];if(s&&"."!==s&&(e=e?`${s}/${e}`:s,this.isAbsolute(s)))break}let i=this.#tK.get(e);if(void 0!==i)return i;let s=this.cwd.resolve(e).fullpath();return this.#tK.set(e,s),s}resolvePosix(...t){let e="";for(let i=t.length-1;i>=0;i--){let s=t[i];if(s&&"."!==s&&(e=e?`${s}/${e}`:s,this.isAbsolute(s)))break}let i=this.#tY.get(e);if(void 0!==i)return i;let s=this.cwd.resolve(e).fullpathPosix();return this.#tY.set(e,s),s}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i}=e;if(!t.canReaddir())return[];{let e=await t.readdir();return i?e:e.map(t=>t.name)}}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i=!0}=e;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map(t=>t.name):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t.withFileTypes,t=this.cwd);let i=await t.readlink();return e?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t.withFileTypes,t=this.cwd);let i=t.readlinkSync();return e?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t.withFileTypes,t=this.cwd);let i=await t.realpath();return e?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t.withFileTypes,t=this.cwd);let i=t.realpathSync();return e?i:i?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:s=!1,filter:r,walkFilter:h}=e,n=[];(!r||r(t))&&n.push(i?t:t.fullpath());let a=new Set,o=(t,e)=>{a.add(t),t.readdirCB((t,l)=>{if(t)return e(t);let c=l.length;if(!c)return e();let p=()=>{0==--c&&e()};for(let t of l)(!r||r(t))&&n.push(i?t:t.fullpath()),s&&t.isSymbolicLink()?t.realpath().then(t=>t?.isUnknown()?t.lstat():t).then(t=>t?.shouldWalk(a,h)?o(t,p):p()):t.shouldWalk(a,h)?o(t,p):p()},!0)},l=t;return new Promise((t,e)=>{o(l,i=>{if(i)return e(i);t(n)})})}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:s=!1,filter:r,walkFilter:h}=e,n=[];(!r||r(t))&&n.push(i?t:t.fullpath());let a=new Set([t]);for(let t of a)for(let e of t.readdirSync()){(!r||r(e))&&n.push(i?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!(s&&(t=e.realpathSync())))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,h)&&a.add(t)}return n}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:s=!1,filter:r,walkFilter:h}=e;(!r||r(t))&&(yield i?t:t.fullpath());let n=new Set([t]);for(let t of n)for(let e of t.readdirSync()){(!r||r(e))&&(yield i?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!(s&&(t=e.realpathSync())))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(n,h)&&n.add(t)}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:s=!1,filter:r,walkFilter:h}=e,n=new et({objectMode:!0});(!r||r(t))&&n.write(i?t:t.fullpath());let a=new Set,o=[t],l=0,c=()=>{let t=!1;for(;!t;){let e=o.shift();if(!e){0===l&&n.end();return}l++,a.add(e);let p=(e,u,f=!1)=>{if(e)return n.emit("error",e);if(s&&!f){let t=[];for(let e of u)e.isSymbolicLink()&&t.push(e.realpath().then(t=>t?.isUnknown()?t.lstat():t));if(t.length){Promise.all(t).then(()=>p(null,u,!0));return}}for(let e of u)e&&(!r||r(e))&&!n.write(i?e:e.fullpath())&&(t=!0);for(let t of(l--,u)){let e=t.realpathCached()||t;e.shouldWalk(a,h)&&o.push(e)}t&&!n.flowing?n.once("drain",c):d||c()},d=!0;e.readdirCB(p,!0),d=!1}};return c(),n}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof eg||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:s=!1,filter:r,walkFilter:h}=e,n=new et({objectMode:!0}),a=new Set;(!r||r(t))&&n.write(i?t:t.fullpath());let o=[t],l=0,c=()=>{let t=!1;for(;!t;){let e=o.shift();if(!e){0===l&&n.end();return}l++,a.add(e);let c=e.readdirSync();for(let e of c)(!r||r(e))&&!n.write(i?e:e.fullpath())&&(t=!0);for(let t of(l--,c)){let e=t;if(t.isSymbolicLink()){if(!(s&&(e=t.realpathSync())))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,h)&&o.push(e)}}t&&!n.flowing&&n.once("drain",c)};return c(),n}chdir(t=this.cwd){let e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[ef](e)}}class eb extends ew{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:i=!0}=e;super(t,td.win32,"\\",{...e,nocase:i}),this.nocase=i;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return td.win32.parse(t).root.toUpperCase()}newRoot(t){return new em(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}class ev extends ew{sep="/";constructor(t=process.cwd(),e={}){let{nocase:i=!1}=e;super(t,td.posix,"/",{...e,nocase:i}),this.nocase=i}parseRootPath(t){return"/"}newRoot(t){return new ey(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}class eS extends ev{constructor(t=process.cwd(),e={}){let{nocase:i=!0}=e;super(t,{...e,nocase:i})}}process.platform;let ek="win32"===process.platform?eb:"darwin"===process.platform?eS:ev,ex=t=>t.length>=1,eE=t=>t.length>=1;class eL{#tX;#tQ;#t0;length;#t1;#t2;#t3;#t6;#t4;#t5;#t8=!0;constructor(t,e,i,s){if(!ex(t))throw TypeError("empty pattern list");if(!eE(e))throw TypeError("empty glob list");if(e.length!==t.length)throw TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw TypeError("index out of range");if(this.#tX=t,this.#tQ=e,this.#t0=i,this.#t1=s,0===this.#t0){if(this.isUNC()){let[t,e,i,s,...r]=this.#tX,[h,n,a,o,...l]=this.#tQ;""===r[0]&&(r.shift(),l.shift());let c=[t,e,i,s,""].join("/"),p=[h,n,a,o,""].join("/");this.#tX=[c,...r],this.#tQ=[p,...l],this.length=this.#tX.length}else if(this.isDrive()||this.isAbsolute()){let[t,...e]=this.#tX,[i,...s]=this.#tQ;""===e[0]&&(e.shift(),s.shift()),this.#tX=[t+"/",...e],this.#tQ=[i+"/",...s],this.length=this.#tX.length}}}pattern(){return this.#tX[this.#t0]}isString(){return"string"==typeof this.#tX[this.#t0]}isGlobstar(){return this.#tX[this.#t0]===V}isRegExp(){return this.#tX[this.#t0]instanceof RegExp}globString(){return this.#t3=this.#t3||(0===this.#t0?this.isAbsolute()?this.#tQ[0]+this.#tQ.slice(1).join("/"):this.#tQ.join("/"):this.#tQ.slice(this.#t0).join("/"))}hasMore(){return this.length>this.#t0+1}rest(){return void 0!==this.#t2?this.#t2:this.hasMore()?(this.#t2=new eL(this.#tX,this.#tQ,this.#t0+1,this.#t1),this.#t2.#t5=this.#t5,this.#t2.#t4=this.#t4,this.#t2.#t6=this.#t6,this.#t2):this.#t2=null}isUNC(){let t=this.#tX;return void 0!==this.#t4?this.#t4:this.#t4="win32"===this.#t1&&0===this.#t0&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){let t=this.#tX;return void 0!==this.#t6?this.#t6:this.#t6="win32"===this.#t1&&0===this.#t0&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#tX;return void 0!==this.#t5?this.#t5:this.#t5=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#tX[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#t0?t:""}checkFollowGlobstar(){return!(0===this.#t0||!this.isGlobstar()||!this.#t8)}markFollowGlobstar(){return!!(0!==this.#t0&&this.isGlobstar())&&!!this.#t8&&(this.#t8=!1,!0)}}let eC="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class eT{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:i,noext:s,noglobstar:r,platform:h=eC}){for(let n of(this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=h,this.mmopts={dot:!0,nobrace:e,nocase:i,noext:s,noglobstar:r,optimizationLevel:2,platform:h,nocomment:!0,nonegate:!0},t))this.add(n)}add(t){let e=new X(t,this.mmopts);for(let t=0;t<e.set.length;t++){let i=e.set[t],s=e.globParts[t];if(!i||!s)throw Error("invalid pattern object");for(;"."===i[0]&&"."===s[0];)i.shift(),s.shift();let r=new eL(i,s,0,this.platform),h=new X(r.globString(),this.mmopts),n="**"===s[s.length-1],a=r.isAbsolute();a?this.absolute.push(h):this.relative.push(h),n&&(a?this.absoluteChildren.push(h):this.relativeChildren.push(h))}}ignored(t){let e=t.fullpath(),i=`${e}/`,s=t.relative()||".",r=`${s}/`;for(let t of this.relative)if(t.match(s)||t.match(r))return!0;for(let t of this.absolute)if(t.match(e)||t.match(i))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",i=(t.relative()||".")+"/";for(let t of this.relativeChildren)if(t.match(i))return!0;for(let t of this.absoluteChildren)if(t.match(e))return!0;return!1}}class eA{store;constructor(t=new Map){this.store=t}copy(){return new eA(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let i=t.fullpath(),s=this.store.get(i);s?s.add(e.globString()):this.store.set(i,new Set([e.globString()]))}}class eM{store=new Map;add(t,e,i){let s=(e?2:0)|(i?1:0),r=this.store.get(t);this.store.set(t,void 0===r?s:s&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(2&e),!!(1&e)])}}class eF{store=new Map;add(t,e){if(!t.canReaddir())return;let i=this.store.get(t);i?i.find(t=>t.globString()===e.globString())||i.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}}class eR{hasWalkedCache;matches=new eM;subwalks=new eF;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new eA}processPatterns(t,e){for(let[i,s]of(this.patterns=e,e.map(e=>[t,e]))){let t,e;this.hasWalkedCache.storeWalked(i,s);let r=s.root(),h=s.isAbsolute()&&!1!==this.opts.absolute;if(r){i=i.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);let t=s.rest();if(t)s=t;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let n=!1;for(;"string"==typeof(t=s.pattern())&&(e=s.rest());)i=i.resolve(t),s=e,n=!0;if(t=s.pattern(),e=s.rest(),n){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if("string"==typeof t){let e=".."===t||""===t||"."===t;this.matches.add(i.resolve(t),h,e);continue}if(t===V){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);let t=e?.pattern(),r=e?.rest();if(e&&(""!==t&&"."!==t||r)){if(".."===t){let t=i.parent||i;r?this.hasWalkedCache.hasWalked(t,r)||this.subwalks.add(t,r):this.matches.add(t,h,!0)}}else this.matches.add(i,h,""===t||"."===t)}else t instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new eR(this.opts,this.hasWalkedCache)}filterEntries(t,e){let i=this.subwalks.get(t),s=this.child();for(let t of e)for(let e of i){let i=e.isAbsolute(),r=e.pattern(),h=e.rest();r===V?s.testGlobstar(t,e,h,i):r instanceof RegExp?s.testRegExp(t,r,h,i):s.testString(t,r,h,i)}return s}testGlobstar(t,e,i,s){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,s,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(i&&e.checkFollowGlobstar()?this.subwalks.add(t,i):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),i){let e=i.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,i.rest(),s);else if(".."===e){let e=t.parent||t;this.subwalks.add(e,i)}else e instanceof RegExp&&this.testRegExp(t,e,i.rest(),s)}}testRegExp(t,e,i,s){e.test(t.name)&&(i?this.subwalks.add(t,i):this.matches.add(t,s,!1))}testString(t,e,i,s){t.isNamed(e)&&(i?this.subwalks.add(t,i):this.matches.add(t,s,!1))}}let ez=(t,e)=>"string"==typeof t?new eT([t],e):Array.isArray(t)?new eT(t,e):t;class eO{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t7=[];#t9;#et;signal;maxDepth;includeChildMatches;constructor(t,e,i){if(this.patterns=t,this.path=e,this.opts=i,this.#et=i.posix||"win32"!==i.platform?"/":"\\",this.includeChildMatches=!1!==i.includeChildMatches,(i.ignore||!this.includeChildMatches)&&(this.#t9=ez(i.ignore??[],i),!this.includeChildMatches&&"function"!=typeof this.#t9.add))throw Error("cannot ignore child matches, ignore lacks add() method.");this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{this.#t7.length=0}))}#ee(t){return this.seen.has(t)||!!this.#t9?.ignored?.(t)}#ei(t){return!!this.#t9?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){let t;if(!this.signal?.aborted)for(this.paused=!1;!this.paused&&(t=this.#t7.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t7.push(t):t())}async matchCheck(t,e){let i;if(e&&this.opts.nodir)return;if(this.opts.realpath){if(!(i=t.realpathCached()||await t.realpath()))return;t=i}let s=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let t=await s.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(s,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!t.realpathCached()?.isDirectory())&&!this.#ee(t)?t:void 0}matchCheckSync(t,e){let i;if(e&&this.opts.nodir)return;if(this.opts.realpath){if(!(i=t.realpathCached()||t.realpathSync()))return;t=i}let s=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let t=s.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(s,e)}matchFinish(t,e){if(this.#ee(t))return;if(!this.includeChildMatches&&this.#t9?.add){let e=`${t.relativePosix()}/**`;this.#t9.add(e)}let i=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);let s=this.opts.mark&&t.isDirectory()?this.#et:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){let e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+s)}else{let e=this.opts.posix?t.relativePosix():t.relative(),i=this.opts.dotRelative&&!e.startsWith(".."+this.#et)?"."+this.#et:"";this.matchEmit(e?i+e+s:"."+s)}}async match(t,e,i){let s=await this.matchCheck(t,i);s&&this.matchFinish(s,e)}matchSync(t,e,i){let s=this.matchCheckSync(t,i);s&&this.matchFinish(s,e)}walkCB(t,e,i){this.signal?.aborted&&i(),this.walkCB2(t,e,new eR(this.opts),i)}walkCB2(t,e,i,s){if(this.#ei(t))return s();if(this.signal?.aborted&&s(),this.paused){this.onResume(()=>this.walkCB2(t,e,i,s));return}i.processPatterns(t,e);let r=1,h=()=>{0==--r&&s()};for(let[t,e,s]of i.matches.entries())this.#ee(t)||(r++,this.match(t,e,s).then(()=>h()));for(let t of i.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;r++;let e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,i,h):t.readdirCB((e,s)=>this.walkCB3(t,s,i,h),!0)}h()}walkCB3(t,e,i,s){i=i.filterEntries(t,e);let r=1,h=()=>{0==--r&&s()};for(let[t,e,s]of i.matches.entries())this.#ee(t)||(r++,this.match(t,e,s).then(()=>h()));for(let[t,e]of i.subwalks.entries())r++,this.walkCB2(t,e,i.child(),h);h()}walkCBSync(t,e,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,e,new eR(this.opts),i)}walkCB2Sync(t,e,i,s){if(this.#ei(t))return s();if(this.signal?.aborted&&s(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,i,s));return}i.processPatterns(t,e);let r=1,h=()=>{0==--r&&s()};for(let[t,e,s]of i.matches.entries())this.#ee(t)||this.matchSync(t,e,s);for(let t of i.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;r++;let e=t.readdirSync();this.walkCB3Sync(t,e,i,h)}h()}walkCB3Sync(t,e,i,s){i=i.filterEntries(t,e);let r=1,h=()=>{0==--r&&s()};for(let[t,e,s]of i.matches.entries())this.#ee(t)||this.matchSync(t,e,s);for(let[t,e]of i.subwalks.entries())r++,this.walkCB2Sync(t,e,i.child(),h);h()}}class eP extends eO{matches=new Set;constructor(t,e,i){super(t,e,i)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}}class eD extends eO{results;constructor(t,e,i){super(t,e,i),this.results=new et({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}let eN="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class e_{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Q.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map(t=>t.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw TypeError("base matching requires globstar");t=t.map(t=>t.includes("/")?t:`./**/${t}`)}if(this.pattern=t,this.platform=e.platform||eN,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw Error("nocase option contradicts provided scurry option")}else{let t="win32"===e.platform?eb:"darwin"===e.platform?eS:e.platform?ev:ek;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let i="darwin"===this.platform||"win32"===this.platform,s={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},[r,h]=this.pattern.map(t=>new X(t,s)).reduce((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t),[[],[]]);this.patterns=r.map((t,e)=>{let i=h[e];if(!i)throw Error("invalid pattern object");return new eL(t,i,0,this.platform)})}async walk(){return[...await new eP(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new eP(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new eD(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new eD(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}function eW(t,e={}){return new e_(t,e).streamSync()}function eB(t,e={}){return new e_(t,e).stream()}function ej(t,e={}){return new e_(t,e).walkSync()}async function eI(t,e={}){return new e_(t,e).walk()}function e$(t,e={}){return new e_(t,e).iterateSync()}function eU(t,e={}){return new e_(t,e).iterate()}let eG=Object.assign(eB,{sync:eW}),eH=Object.assign(eU,{sync:e$}),eq=Object.assign(ej,{stream:eW,iterate:e$}),eV=Object.assign(eI,{glob:eI,globSync:ej,sync:eq,globStream:eB,stream:eG,globStreamSync:eW,streamSync:eW,globIterate:eU,iterate:eH,globIterateSync:e$,iterateSync:e$,Glob:e_,hasMagic:(t,e={})=>{for(let i of(Array.isArray(t)||(t=[t]),t))if(new X(i,e).hasMagic())return!0;return!1},escape:k,unescape:c});eV.glob=eV}};